#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <errno.h>
#include "option.h"


DFile* DFile_Init(const char* fichier, const char* digest){
    DFile* new = malloc(sizeof(DFile));
    if (new == NULL){
        fprintf(stderr,"Error: can't allocate memory for DFile\n");
        return NULL;
    }

    char *file = calloc(TAILLE_Fichier,sizeof(char));
    char *dig = calloc(TAILLE_DIGEST,sizeof(char));
    strncpy(file,fichier,TAILLE_Fichier);
    strncpy(dig,digest,TAILLE_DIGEST);

    new->digest = dig;
    new->fichier = file;
    return new;
}

void DFile_End(DFile* dfile){
    free(dfile->fichier);
    free(dfile->digest);
    free(dfile);
}