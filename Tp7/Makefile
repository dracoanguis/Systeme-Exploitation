CC=gcc
OBJ = 
LIBS = -lrt -lpthread
CFLAGS = -Wall -Wextra

cuisinier: cuisinier.c $(OBJ)
	$(CC) $(OBJ) cuisinier.c -o cuisinier -g $(CFLAGS) $(LIBS)

serveur: serveur.c $(OBJ)
	$(CC) $(OBJ) serveur.c -o serveur -g $(CFLAGS) $(LIBS)

%.o: %.c %.h
	$(CC) -c -o $@ $< $(CFLAGS)

.PHONY: clean reset

clean: reset
	rm -f $(OBJ)

reset:
	rm -f /dev/shm/cupboard /dev/shm/sem.cup_excup /dev/shm/sem.cup_rest /dev/shm/sem.cup_start 